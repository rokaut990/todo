(()=>{"use strict";class t{_value="";_important=!1;_done=!1;_id=0;constructor(t){this._value=t}get value(){return this._value}set value(t){this._value=t}get id(){return this._id}set id(t){this._id=t}}const e=localStorage.getItem("taskList"),n=JSON.parse(e);function s(t){n[t]._important?n[t]._important=!1:n[t]._important=!0,document.querySelector(`#listItem${t}`).classList.toggle("important"),document.querySelector(`#listItem${t} .importantButton`).classList.toggle("notImportantButton"),localStorage.setItem("taskList",JSON.stringify(n))}function i(t){n[t]._done?n[t]._done=!1:n[t]._done=!0,document.querySelector(`#listItem${t} span`).classList.toggle("doneText"),document.querySelector(`#listItem${t} .doneButton`).classList.toggle("undoneButton"),localStorage.setItem("taskList",JSON.stringify(n))}function o(t){n.splice(t,1),localStorage.setItem("taskList",JSON.stringify(n))}const l=document.querySelector(".newTask button"),c=document.querySelector(".newTask textarea"),a=document.getElementById("newTaskInput"),r=document.querySelector(".todoList"),d=localStorage.getItem("taskList");let u=d?JSON.parse(d):[];function m(t){const e=localStorage.getItem("taskList");let n=e?JSON.parse(e):[],l=0;for(;r.firstChild;)r.firstChild.remove();n.forEach(((t,e)=>{!function(t,e){const n=document.createElement("li"),l=document.createElement("span"),c=document.createElement("button"),a=document.createElement("button"),d=document.createElement("button");t._id=e,n.setAttribute("id",`listItem${t._id}`),l.textContent=t._value,a.setAttribute("type","button"),c.setAttribute("type","button"),d.setAttribute("type","button"),n.classList.add("listItem"),l.classList.add("itemText"),c.classList.add("importantButton"),a.classList.add("doneButton"),d.classList.add("deleteButton"),r.prepend(n),n.append(l),n.append(c),n.append(a),n.append(d),c.addEventListener("click",(()=>s(t._id))),a.addEventListener("click",(e=>i(t._id))),d.addEventListener("click",(e=>{o(t._id),m()}))}(t,l++)})),localStorage.setItem("taskList",JSON.stringify(n)),c.value="",localStorage.getItem("taskList")&&function(){const t=localStorage.getItem("taskList");let e=t?JSON.parse(t):[];e.forEach(((t,n)=>{e[n]._important&&(document.querySelector(`#listItem${n}`).classList.add("important"),document.querySelector(`#listItem${n} .importantButton`).classList.add("notImportantButton")),e[n]._done&&(document.querySelector(`#listItem${n} span`).classList.add("doneText"),document.querySelector(`#listItem${n} .doneButton`).classList.add("undoneButton"))}))}()}l.addEventListener("click",(function(){const e=c.value;if(e.trim()){const n=new t(e);u.push(n),localStorage.setItem("taskList",JSON.stringify(u)),m(),l.classList.remove("active")}})),a.addEventListener("keypress",(function(t){13===(t.keyCode||t.which)&&c.value.trim()&&l.click()}));const L=document.getElementById("search"),S=document.getElementById("all").nextElementSibling,g=document.getElementById("important").nextElementSibling,p=document.getElementById("active").nextElementSibling,v=document.getElementById("done").nextElementSibling,I=localStorage.getItem("taskList"),y=JSON.parse(I);L.addEventListener("input",(function(){y.forEach(((t,e)=>{y[e]._value.includes(L.value)?document.querySelector(`#listItem${e}`).classList.remove("invisible"):document.querySelector(`#listItem${e}`).classList.add("invisible")}))})),S.addEventListener("click",(function(t){y.forEach(((t,e)=>{document.querySelector(`#listItem${e}`).classList.remove("invisible")})),console.log(t)})),g.addEventListener("click",(function(){y.forEach(((t,e)=>{y[e]._important?document.querySelector(`#listItem${e}`).classList.remove("invisible"):document.querySelector(`#listItem${e}`).classList.add("invisible")}))})),p.addEventListener("click",(function(){y.forEach(((t,e)=>{y[e]._done?document.querySelector(`#listItem${e}`).classList.add("invisible"):document.querySelector(`#listItem${e}`).classList.remove("invisible")}))})),v.addEventListener("click",(function(){y.forEach(((t,e)=>{y[e]._done?document.querySelector(`#listItem${e}`).classList.remove("invisible"):document.querySelector(`#listItem${e}`).classList.add("invisible")}))})),m()})();